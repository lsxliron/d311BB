(function(e,t){"function"==typeof define&&define.amd?define("pnotify.history",["jquery","pnotify"],t):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./pnotify")):t(e.jQuery,e.PNotify)})(this,function(e,t){var n,r;e(function(){e("body").on("pnotify.history-all",function(){e.each(t.notices,function(){this.modules.history.inHistory&&(this.elem.is(":visible")?this.options.hide&&this.queueRemove():this.open&&this.open())})}).on("pnotify.history-last",function(){var e="top"===t.prototype.options.stack.push,n=e?0:-1,r;do{r=-1===n?t.notices.slice(n):t.notices.slice(n,n+1);if(!r[0])return!1;n=e?n+1:n-1}while(!r[0].modules.history.inHistory||r[0].elem.is(":visible"));r[0].open&&r[0].open()})}),t.prototype.options.history={history:!0,menu:!1,fixed:!0,maxonscreen:Infinity,labels:{redisplay:"Redisplay",all:"All",last:"Last"}},t.prototype.modules.history={inHistory:!1,init:function(t,i){t.options.destroy=!1,this.inHistory=i.history,i.menu&&"undefined"==typeof n&&(n=e("<div />",{"class":"ui-pnotify-history-container "+t.styles.hi_menu,mouseleave:function(){n.animate({top:"-"+r+"px"},{duration:100,queue:!1})}}).append(e("<div />",{"class":"ui-pnotify-history-header",text:i.labels.redisplay})).append(e("<button />",{"class":"ui-pnotify-history-all "+t.styles.hi_btn,text:i.labels.all,mouseenter:function(){e(this).addClass(t.styles.hi_btnhov)},mouseleave:function(){e(this).removeClass(t.styles.hi_btnhov)},click:function(){return e(this).trigger("pnotify.history-all"),!1}})).append(e("<button />",{"class":"ui-pnotify-history-last "+t.styles.hi_btn,text:i.labels.last,mouseenter:function(){e(this).addClass(t.styles.hi_btnhov)},mouseleave:function(){e(this).removeClass(t.styles.hi_btnhov)},click:function(){return e(this).trigger("pnotify.history-last"),!1}})).appendTo("body"),r=e("<span />",{"class":"ui-pnotify-history-pulldown "+t.styles.hi_hnd,mouseenter:function(){n.animate({top:"0"},{duration:100,queue:!1})}}).appendTo(n).offset().top+2,n.css({top:"-"+r+"px"}),i.fixed&&n.addClass("ui-pnotify-history-fixed"))},update:function(e,t){this.inHistory=t.history,t.fixed&&n?n.addClass("ui-pnotify-history-fixed"):n&&n.removeClass("ui-pnotify-history-fixed")},beforeOpen:function(n,r){if(t.notices&&t.notices.length>r.maxonscreen){var i;i="top"!==n.options.stack.push?t.notices.slice(0,t.notices.length-r.maxonscreen):t.notices.slice(r.maxonscreen,t.notices.length),e.each(i,function(){this.remove&&this.remove()})}}},e.extend(t.styling.jqueryui,{hi_menu:"ui-state-default ui-corner-bottom",hi_btn:"ui-state-default ui-corner-all",hi_btnhov:"ui-state-hover",hi_hnd:"ui-icon ui-icon-grip-dotted-horizontal"}),e.extend(t.styling.bootstrap2,{hi_menu:"well",hi_btn:"btn",hi_btnhov:"",hi_hnd:"icon-chevron-down"}),e.extend(t.styling.bootstrap3,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"glyphicon glyphicon-chevron-down"}),e.extend(t.styling.fontawesome,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"fa fa-chevron-down"})});